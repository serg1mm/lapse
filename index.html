<!DOCTYPE html>
<html>
<head>
	<title>l a p s e n s e</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes" />

	<link rel="manifest" href="/manifest.json">

	<script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
	<script type="text/javascript" src="js/haptic/haptic.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

	<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
	<link rel="import" href="bower_components/core-menu/core-menu.html">
	<link rel="import" href="bower_components/core-item/core-item.html">
	<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
	<link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
	<link rel="import" href="bower_components/core-icons/core-icons.html">
	<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
	<link rel="import" href="bower_components/font-roboto/roboto.html">
	<link rel="import" href="bower_components/google-map/google-map.html">
	<link rel="import" href="bower_components/geo-location/geo-location.html">
	<link rel="import" href="bower_components/core-selector/core-selector.html">
	<link rel="import" href="bower_components/core-image/core-image.html">
	<link rel="import" href="bower_components/paper-item/paper-item.html">
	<link rel="import" href="bower_components/paper-input/paper-input.html">
	<link rel="import" href="bower_components/paper-fab/paper-fab.html">

	<link rel="stylesheet" type="text/css" href="css/style.css">



</head>

<body fullbleed unresolved>
<geo-location watchpos></geo-location>

<!-- sidemenu + frontal layer -->

<script>
document.addEventListener('polymer-ready', function() {
  var navicon = document.getElementById('navicon');
  var drawerPanel = document.getElementById('drawerPanel');
  navicon.addEventListener('click', function() {
    drawerPanel.togglePanel();
  });

  /*var accept = document.getElementById('accept');
  var drawerPanel = document.getElementById('drawerPanel');
  accept.addEventListener('click', function() {
    drawerPanel.togglePanel();
  });*/
});
</script>

<core-drawer-panel id="drawerPanel" drawerWidth="300px">

	<!-- sidemenu -->

	<core-header-panel mode="waterfall-tall" drawer style="background-color: white; ">
		<core-toolbar id="navheader" class="tall">
			<img class="middle profile" src="img/profile.jpg" hidden?="img/cover.jpg" ></img>
			<div class="bottom" layout vertical>
			<span>Sergi Mondéjar Marín</span>
			<span>hola@sergimm.com</span>
			</div>
		</core-toolbar>
		<div class="sidemenu">
			<core-selector>
				<div class="separator"></div>
				<paper-item><core-icon icon="polymer"></core-icon>My lapses</paper-item>
				<div class="separator" style="margin-top: 6px; "></div>
				<paper-item><core-icon icon="settings"></core-icon>Settings</paper-item>
				<paper-item><core-icon icon="help"></core-icon>About</paper-item>
				<div class="separator"></div>
			</core-selector>
		</div>
	</core-header-panel>


	<!-- frontal layer -->

	<core-header-panel main mode="seamed">
		<core-toolbar id="mainheader" style="color:white" >
			<paper-icon-button id="navicon" icon="menu"></paper-icon-button>
			<paper-icon-button id="accept" icon="done" class="hidden"></paper-icon-button>
			<paper-input-decorator class="custom" label="#yourhastag"><input id="i1" is="core-input" maxlength="20" type="search">
				<paper-char-counter class="counter" target="i1"></paper-char-counter>
			</paper-input-decorator>
			<paper-icon-button id="refresh" icon="refresh" onclick="window.open('index.html','_parent');"></paper-icon-button>
			<paper-icon-button id="cancel" icon="clear" class="hidden" onclick="window.open('index.html','_parent');"></paper-icon-button>
		</core-toolbar>

	<!-- List of old captures-->

	<!--<core-header-panel mode="waterfall-tall" drawer style="background-color: white; ">
		<core-toolbar id="navheader" class="tall">
			<img class="middle profile" src="img/profile.jpg" hidden?="img/cover.jpg" ></img>
			<div class="bottom" layout vertical>
				<span>Putas Capturas</span>
			</div>
		</core-toolbar>
		<div class="sidemenu">
			<core-selector>
				<div class="separator"></div>
				<paper-item><core-icon icon="polymer"></core-icon>My lapses</paper-item>
				<div class="separator" style="margin-top: 6px; "></div>
				<paper-item><core-icon icon="settings"></core-icon>Settings</paper-item>
				<paper-item><core-icon icon="help"></core-icon>About</paper-item>
				<div class="separator"></div>
			</core-selector>
		</div>
	</core-header-panel>-->


	<!-- threejs random geometry -->

	<div id="container"></div>
	<script src="js/threejs/three.min.js"></script>
	<script src="js/threejs/geometries/ConvexGeometry.js"></script>
	<script src="js/threejs/libs/OrbitControls.js"></script>
	<script src="js/threejs/Detector.js"></script>
	<script src="js/threejs/lapse_color.js"></script>



		<!-- capture button -->


		<div class="capture">
			<paper-fab id="fab1" icon="polymer"></paper-fab>
		</div>
	</core-header-panel>

</core-drawer-panel>



<!-- map -->

<div class="map" >
	<template is="auto-binding">
    	<geo-location latitude="{{lat}}" longitude="{{lng}}" watchpos highaccuracy></geo-location>
   		<google-map latitude="{{lat}}" longitude="{{lng}}" minZoom="14" maxZoom="14" disableDefaultUI showCenterMarker fit></google-map>
   	</template>
</div>


	<script src="js/captureButtonProcess.js"></script>

</body>